;             
CREATE USER IF NOT EXISTS USER SALT '08d54c6693f37b86' HASH '253f75f5c91ee1e9d1e89dcb7640d389fc3571db10149375e3cf622b823d53e0' ADMIN;         
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_7AA8D0B5_A35D_4B24_B7BB_1BACCDD1CDB6 START WITH 3 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_63B8EDA5_47FE_410D_BAE5_10946211D97B START WITH 5 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_F5A7FF57_0684_4ED7_901D_06131B325551 START WITH 5 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_B7858E60_E3B0_4362_A8A4_3CFA5ED84AA2 START WITH 11 BELONGS_TO_TABLE;   
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_B9B226E4_BA95_482A_BE73_AB45199D90F7 START WITH 8 BELONGS_TO_TABLE;    
CREATE CACHED TABLE PUBLIC.STUDENT(
    ID LONG DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_B9B226E4_BA95_482A_BE73_AB45199D90F7) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_B9B226E4_BA95_482A_BE73_AB45199D90F7,
    IME VARCHAR(30) NOT NULL,
    PREZIME VARCHAR(30) NOT NULL,
    JMBAG VARCHAR(15) NOT NULL,
    DATUM_RODJENJA DATE NOT NULL
); 
ALTER TABLE PUBLIC.STUDENT ADD CONSTRAINT PUBLIC.CONSTRAINT_B PRIMARY KEY(ID);
-- 7 +/- SELECT COUNT(*) FROM PUBLIC.STUDENT; 
INSERT INTO PUBLIC.STUDENT(ID, IME, PREZIME, JMBAG, DATUM_RODJENJA) VALUES
(1, 'Alen', STRINGDECODE('Badali\u0107'), '024602348923', DATE '1999-12-01'),
(2, 'Branko', STRINGDECODE('Dalenovi\u0107'), '0036387651', DATE '2000-06-11'),
(3, 'Josipa', STRINGDECODE('Mari\u0107'), '1108293842', DATE '1999-02-28'),
(4, 'Ivana', STRINGDECODE('Niki\u0107'), '298347293', DATE '2001-01-12'),
(5, 'Ante', STRINGDECODE('Anti\u0107'), '003457372', DATE '2001-01-19'),
(6, 'Ivo', STRINGDECODE('Andri\u0107'), '00789534678', DATE '2019-01-20'),
(7, 'Perica', STRINGDECODE('Peri\u0107'), '6456457', DATE '2019-01-20');            
CREATE CACHED TABLE PUBLIC.PROFESOR(
    ID LONG DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_63B8EDA5_47FE_410D_BAE5_10946211D97B) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_63B8EDA5_47FE_410D_BAE5_10946211D97B,
    IME VARCHAR(30) NOT NULL,
    PREZIME VARCHAR(30) NOT NULL,
    SIFRA VARCHAR(10) NOT NULL,
    TITULA VARCHAR(50) NOT NULL
); 
ALTER TABLE PUBLIC.PROFESOR ADD CONSTRAINT PUBLIC.CONSTRAINT_F PRIMARY KEY(ID);               
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.PROFESOR;
INSERT INTO PUBLIC.PROFESOR(ID, IME, PREZIME, SIFRA, TITULA) VALUES
(1, 'Ivan', STRINGDECODE('Kova\u010devi\u0107'), 'P98765', STRINGDECODE('Predava\u010d')),
(2, 'Marija', 'Horvat', 'P2342', STRINGDECODE('Vi\u0161i predava\u010d')),
(3, 'Marko', STRINGDECODE('\u017dupan'), 'P72367', STRINGDECODE('Profesor visoke \u0161kole')),
(4, 'Ivo', STRINGDECODE('Ivki\u0107'), 'P4467', STRINGDECODE('Predava\u010d')); 
CREATE CACHED TABLE PUBLIC.PREDMET(
    ID LONG DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_F5A7FF57_0684_4ED7_901D_06131B325551) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_F5A7FF57_0684_4ED7_901D_06131B325551,
    SIFRA VARCHAR(10) NOT NULL,
    NAZIV VARCHAR(50) NOT NULL,
    BROJ_ECTS_BODOVA SMALLINT NOT NULL,
    PROFESOR_ID SMALLINT NOT NULL
);        
ALTER TABLE PUBLIC.PREDMET ADD CONSTRAINT PUBLIC.CONSTRAINT_1 PRIMARY KEY(ID);
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.PREDMET; 
INSERT INTO PUBLIC.PREDMET(ID, SIFRA, NAZIV, BROJ_ECTS_BODOVA, PROFESOR_ID) VALUES
(1, 'PR9283', 'Programiranje u jeziku Java', 6, 1),
(2, 'PR2138', 'Web aplikacije u Javi', 7, 2),
(3, 'PR98234', STRINGDECODE('Nekonvencionalni ra\u010dunalni postupci'), 6, 3),
(4, 'P33465', 'Python', 5, 4);       
CREATE CACHED TABLE PUBLIC.PREDMET_STUDENT(
    PREDMET_ID LONG NOT NULL,
    STUDENT_ID LONG NOT NULL
);  
ALTER TABLE PUBLIC.PREDMET_STUDENT ADD CONSTRAINT PUBLIC.CONSTRAINT_5 PRIMARY KEY(PREDMET_ID, STUDENT_ID);    
-- 7 +/- SELECT COUNT(*) FROM PUBLIC.PREDMET_STUDENT;         
INSERT INTO PUBLIC.PREDMET_STUDENT(PREDMET_ID, STUDENT_ID) VALUES
(1, 1),
(1, 2),
(1, 3),
(2, 1),
(2, 3),
(3, 2),
(3, 3);              
CREATE CACHED TABLE PUBLIC.ISPIT(
    ID LONG DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_B7858E60_E3B0_4362_A8A4_3CFA5ED84AA2) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_B7858E60_E3B0_4362_A8A4_3CFA5ED84AA2,
    PREDMET_ID LONG NOT NULL,
    STUDENT_ID LONG NOT NULL,
    OCJENA SMALLINT NOT NULL,
    DATUM_I_VRIJEME TIMESTAMP NOT NULL
);   
ALTER TABLE PUBLIC.ISPIT ADD CONSTRAINT PUBLIC.CONSTRAINT_4 PRIMARY KEY(ID);  
-- 10 +/- SELECT COUNT(*) FROM PUBLIC.ISPIT;  
INSERT INTO PUBLIC.ISPIT(ID, PREDMET_ID, STUDENT_ID, OCJENA, DATUM_I_VRIJEME) VALUES
(1, 1, 1, 5, TIMESTAMP '2018-11-28 17:00:00.0'),
(2, 1, 2, 4, TIMESTAMP '2018-02-02 18:00:00.0'),
(3, 1, 3, 3, TIMESTAMP '2018-07-06 15:00:00.0'),
(4, 2, 1, 4, TIMESTAMP '2018-09-01 18:00:00.0'),
(5, 2, 3, 5, TIMESTAMP '2018-09-11 16:00:00.0'),
(6, 3, 2, 4, TIMESTAMP '2018-09-15 17:00:00.0'),
(7, 3, 3, 5, TIMESTAMP '2018-09-22 18:00:00.0'),
(8, 4, 5, 5, TIMESTAMP '2019-01-23 18:00:00.0'),
(9, 2, 5, 4, TIMESTAMP '2019-01-10 14:00:00.0'),
(10, 4, 6, 5, TIMESTAMP '2019-01-09 14:00:00.0');     
CREATE CACHED TABLE PUBLIC.OBRAZOVNA_USTANOVA(
    ID LONG DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_7AA8D0B5_A35D_4B24_B7BB_1BACCDD1CDB6) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_7AA8D0B5_A35D_4B24_B7BB_1BACCDD1CDB6,
    NAZIV VARCHAR(50) NOT NULL
);           
ALTER TABLE PUBLIC.OBRAZOVNA_USTANOVA ADD CONSTRAINT PUBLIC.CONSTRAINT_BF PRIMARY KEY(ID);    
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.OBRAZOVNA_USTANOVA;      
INSERT INTO PUBLIC.OBRAZOVNA_USTANOVA(ID, NAZIV) VALUES
(1, STRINGDECODE('Fakultet ra\u010dunarstva')),
(2, STRINGDECODE('Tehni\u010dko veleu\u010dili\u0161te'));          
CREATE CACHED TABLE PUBLIC.OBRAZOVNA_USTANOVA_ISPIT(
    OBRAZOVNA_USTANOVA_ID LONG NOT NULL,
    ISPIT_ID LONG NOT NULL
);
ALTER TABLE PUBLIC.OBRAZOVNA_USTANOVA_ISPIT ADD CONSTRAINT PUBLIC.CONSTRAINT_2 PRIMARY KEY(OBRAZOVNA_USTANOVA_ID, ISPIT_ID);  
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.OBRAZOVNA_USTANOVA_ISPIT;
CREATE CACHED TABLE PUBLIC.OBRAZOVNA_USTANOVA_PROFESOR(
    OBRAZOVNA_USTANOVA_ID LONG NOT NULL,
    PROFESOR_ID LONG NOT NULL
);          
ALTER TABLE PUBLIC.OBRAZOVNA_USTANOVA_PROFESOR ADD CONSTRAINT PUBLIC.CONSTRAINT_D PRIMARY KEY(OBRAZOVNA_USTANOVA_ID, PROFESOR_ID);            
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.OBRAZOVNA_USTANOVA_PROFESOR;             
CREATE CACHED TABLE PUBLIC.OBRAZOVNA_USTANOVA_PREDMET(
    OBRAZOVNA_USTANOVA_ID LONG NOT NULL,
    PREDMET_ID LONG NOT NULL
);            
ALTER TABLE PUBLIC.OBRAZOVNA_USTANOVA_PREDMET ADD CONSTRAINT PUBLIC.CONSTRAINT_E PRIMARY KEY(OBRAZOVNA_USTANOVA_ID, PREDMET_ID);              
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.OBRAZOVNA_USTANOVA_PREDMET;              
CREATE CACHED TABLE PUBLIC.OBRAZOVNA_USTANOVA_STUDENT(
    OBRAZOVNA_USTANOVA_ID LONG NOT NULL,
    STUDENT_ID LONG NOT NULL
);            
ALTER TABLE PUBLIC.OBRAZOVNA_USTANOVA_STUDENT ADD CONSTRAINT PUBLIC.CONSTRAINT_B1 PRIMARY KEY(OBRAZOVNA_USTANOVA_ID, STUDENT_ID);             
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.OBRAZOVNA_USTANOVA_STUDENT;              
ALTER TABLE PUBLIC.PREDMET ADD CONSTRAINT PUBLIC.CONSTRAINT_17 FOREIGN KEY(PROFESOR_ID) REFERENCES PUBLIC.PROFESOR(ID) NOCHECK;               
ALTER TABLE PUBLIC.OBRAZOVNA_USTANOVA_STUDENT ADD CONSTRAINT PUBLIC.CONSTRAINT_B1E5 FOREIGN KEY(STUDENT_ID) REFERENCES PUBLIC.STUDENT(ID) NOCHECK;            
ALTER TABLE PUBLIC.PREDMET_STUDENT ADD CONSTRAINT PUBLIC.CONSTRAINT_507 FOREIGN KEY(STUDENT_ID) REFERENCES PUBLIC.STUDENT(ID) NOCHECK;        
ALTER TABLE PUBLIC.OBRAZOVNA_USTANOVA_ISPIT ADD CONSTRAINT PUBLIC.CONSTRAINT_21 FOREIGN KEY(OBRAZOVNA_USTANOVA_ID) REFERENCES PUBLIC.OBRAZOVNA_USTANOVA(ID) NOCHECK;          
ALTER TABLE PUBLIC.ISPIT ADD CONSTRAINT PUBLIC.CONSTRAINT_42 FOREIGN KEY(PREDMET_ID) REFERENCES PUBLIC.PREDMET(ID) NOCHECK;   
ALTER TABLE PUBLIC.OBRAZOVNA_USTANOVA_PREDMET ADD CONSTRAINT PUBLIC.CONSTRAINT_EE7 FOREIGN KEY(PREDMET_ID) REFERENCES PUBLIC.PREDMET(ID) NOCHECK;             
ALTER TABLE PUBLIC.OBRAZOVNA_USTANOVA_STUDENT ADD CONSTRAINT PUBLIC.CONSTRAINT_B1E FOREIGN KEY(OBRAZOVNA_USTANOVA_ID) REFERENCES PUBLIC.OBRAZOVNA_USTANOVA(ID) NOCHECK;       
ALTER TABLE PUBLIC.OBRAZOVNA_USTANOVA_PREDMET ADD CONSTRAINT PUBLIC.CONSTRAINT_EE FOREIGN KEY(OBRAZOVNA_USTANOVA_ID) REFERENCES PUBLIC.OBRAZOVNA_USTANOVA(ID) NOCHECK;        
ALTER TABLE PUBLIC.OBRAZOVNA_USTANOVA_PROFESOR ADD CONSTRAINT PUBLIC.CONSTRAINT_DF FOREIGN KEY(OBRAZOVNA_USTANOVA_ID) REFERENCES PUBLIC.OBRAZOVNA_USTANOVA(ID) NOCHECK;       
ALTER TABLE PUBLIC.OBRAZOVNA_USTANOVA_PROFESOR ADD CONSTRAINT PUBLIC.CONSTRAINT_DF3 FOREIGN KEY(PROFESOR_ID) REFERENCES PUBLIC.PROFESOR(ID) NOCHECK;          
ALTER TABLE PUBLIC.PREDMET_STUDENT ADD CONSTRAINT PUBLIC.CONSTRAINT_50 FOREIGN KEY(PREDMET_ID) REFERENCES PUBLIC.PREDMET(ID) NOCHECK;         
ALTER TABLE PUBLIC.OBRAZOVNA_USTANOVA_ISPIT ADD CONSTRAINT PUBLIC.CONSTRAINT_21F FOREIGN KEY(ISPIT_ID) REFERENCES PUBLIC.ISPIT(ID) NOCHECK;   
ALTER TABLE PUBLIC.ISPIT ADD CONSTRAINT PUBLIC.CONSTRAINT_42B FOREIGN KEY(STUDENT_ID) REFERENCES PUBLIC.STUDENT(ID) NOCHECK;  
